tinymce.PluginManager.add('shortcodes', function(editor, url) {
  // Add a button that opens a window
  editor.addButton('shortcodes', {
    text: 'Short codes',
    icon: false,
    onclick: function() {
      // Open window
      editor.windowManager.open({
         title: 'Short codes',
         width: 800,
         height: 500,
		 url: url+'/shortcodes.html',
         buttons: [{
          text: 'Close',
          onclick: 'close'
        },
		{
          text: 'Submit',
          onclick: function(){
				  var s=editor.windowManager.getWindows()[0];
					  editor.insertContent(s.getContentWindow().document.getElementById("content").value);
			  			
					  s.close();
			}
        }]
        
      });
    }
  });

  // Adds a menu item to the tools menu
  editor.addMenuItem('shortcodes', {
    text: 'Short codes',
    context: 'tools',
    onclick: function() {
      // Open window with a specific url
        editor.windowManager.open({
         title: 'Short codes',
         width: 800,
         height: 500,
		 url: url+'/shortcodes.html',
         buttons: [{
          text: 'Close',
          onclick: 'close' 
        },
		{
          text: 'Submit',
          onclick: function(){
				  var s=editor.windowManager.getWindows()[0];
					  editor.insertContent(s.getContentWindow().document.getElementById("content").value);
			  			
					  s.close();
			}
        }]
        
      });
    }
  });
	
	
});